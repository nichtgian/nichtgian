const f="en",d=["en","de","de-ch","fr","it"],g=["url","preferredLanguage","baseLocale"];globalThis.__paraglide={};let u=!1,i=()=>{let e;for(const n of g)if(n==="baseLocale"?e=f:n==="url"&&typeof window<"u"?e=h(window.location.href):n==="preferredLanguage"&&(e=L()),e!==void 0){const t=p(e);return u||(u=!0,w(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};function L(){var n;if(!((n=navigator==null?void 0:navigator.languages)!=null&&n.length))return;const e=navigator.languages.map(t=>{var r;return{fullTag:t.toLowerCase(),baseTag:(r=t.split("-")[0])==null?void 0:r.toLowerCase()}});for(const t of e){if(l(t.fullTag))return t.fullTag;if(l(t.baseTag))return t.baseTag}}let w=(e,n)=>{const t={reload:!0,...n};let r;try{r=i()}catch{}let a;for(const o of g)o!=="baseLocale"&&o==="url"&&typeof window<"u"&&(a=s(window.location.href,{locale:e}).href);t.reload&&window.location&&e!==r&&(a?window.location.href=a:window.location.reload())},c=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function l(e){return e?d.includes(e):!1}function p(e){if(l(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${d.join(", ")}`);return e}function h(e){return m(e)}function m(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const r=t[0];if(l(r))return r}return f}function s(e,n){return b(e,n)}function b(e,n){const t=typeof e=="string"?new URL(e,c()):new URL(e),r=(n==null?void 0:n.locale)??i();if(h(t)===r)return t;const o=t.pathname.split("/").filter(Boolean);return o.length>0&&l(o[0])&&o.shift(),r===f?t.pathname="/"+o.join("/"):t.pathname="/"+r+"/"+o.join("/"),t}function U(e){return y(e)}function y(e){const n=typeof e=="string"?new URL(e,c()):new URL(e),t=n.pathname.split("/").filter(Boolean);return t.length>0&&l(t[0])&&(n.pathname="/"+t.slice(1).join("/")),n}function z(e,n){const t=(n==null?void 0:n.locale)??i(),r=new URL(e,c()),a=s(r,n);return e.startsWith("/")&&r.origin===a.origin?t!==i()&&s(r,{locale:i()}).origin!==a.origin?a.href:a.pathname+a.search+a.hash:a.href}function j(e){const n=new URL(e,c()),t=U(n);return e.startsWith("/")&&n.origin===t.origin?t.pathname+t.search+t.hash:t.href}export{j as a,z as b,U as d,i as g,d as l};
